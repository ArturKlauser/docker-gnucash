# GnuCash

This image runs GnuCash with a web-based GUI, accessible via HTTPS.

## Usage

### Docker Compose

1.  Create a `docker-compose.yml` file with the following content:

    ```yaml
    services:
      gnucash:
        image: arturklauser/gnucash:latest
        container_name: gnucash
        restart: unless-stopped
        ports:
          - "5800:5800"
        volumes:
          - "${CONFIG_DIR:-./config}:/config:rw"
          - "${DATA_DIR:-./data}:/data:rw"
        environment:
          - TZ=America/Los_Angeles
          - USER_ID=${USER_ID}
          - GROUP_ID=${GROUP_ID}
    ```
1.  Create the data directories:
    ```bash
    mkdir config data
    ```
1.  Run the container:
    ```bash
    USER_ID=$(id -u) GROUP_ID=$(id -g) docker compose up -d
    ```
    *  Note: You can optionally set the `CONFIG_DIR` and `DATA_DIR` environment
       variables to override the default host paths for the configuration and
       data directories.
1.  Access the interface at [https://localhost:5800](https://localhost:5800).
    *  Note: Since a self-signed certificate is generated by default, you will see a security warning in your browser. To avoid this, install your own certificate in config/certs.
1.  Shut down the container:<br>
    The container is designed to keep running. But if you want to shut it down, remember to first quit GnuCash in the GUI to release the lock on the data file.
    Then run:
    ```bash
    USER_ID=$(id -u) GROUP_ID=$(id -g) docker down
    ```

### Docker CLI

```bash
docker run -d \
    --name=gnucash \
    -p 5800:5800 \
    -v ${CONFIG_DIR:-$(pwd)/config}:/config:rw \
    -v ${DATA_DIR:-$(pwd)/data}:/data:rw \
    -e USER_ID=$(id -u) \
    -e GROUP_ID=$(id -g) \
    arturklauser/gnucash:latest
```

## More Information

For more details, configuration options, and source code, please visit the [GitHub repository](https://github.com/ArturKlauser/docker-gnucash).
